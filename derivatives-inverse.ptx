<section xml:id="derivatives-inverse">
  <title>Derivatives of Inverse Functions</title>
  <subsection xml:id="using-chain-rule">
    <title>Using the Chain Rule</title>
    <p>
      We just used the rule <m>\frac{d}{dx} \ln x = \frac{1}{x}</m>
      without justification. What is this justification?  The
      logarithm is the inverse of the exponential, which leads us to
      thinking about the derivatives of inverse functions. There is a
      rule for such derivatives. Let's write <m>x = f \circ
      f^{-1}(x)</m>, differentiate both sides using the chain rule,
      and rearrange to get an expression for <m>\frac{d}{dx}
      f^{-1}(x)</m>.
      <md>
        <mrow>
          1 \amp = \frac{d}{dx} x = \frac{d}{dx} f \circ f^{-1} =
          f^\prime ( f^{-1}(x)) \frac{d}{dx} f^{-1}(x)
        </mrow>
        <mrow>
          \frac{d}{dx} f^{-1}(x) \amp =
          \frac{1}{f^\prime(f^{-1}(x))}
        </mrow>
      </md>
    </p>
    <p>
      Then we can prove the derivative formula we just used for <m>\ln
      x</m>.
      <me>
        \frac{d}{dx} \ln x = \frac{1}{e^{\ln x}} = \frac{1}{x}
      </me>
    </p>
    <p>
      We can also prove derivative rules for the inverse trig
      functions.
      <md>
        <mrow>
          \frac{d}{dx} \arccos x \amp = \frac{1}{-\sin(\arccos x)} =
          \frac{-1}{\sqrt{1-\cos^2(\arccos x)}} =
          \frac{-1}{\sqrt{1-x^2}}
        </mrow>
        <mrow>
          \frac{d}{dx} \arcsin x \amp = \frac{1}{\cos(\arcsin x)} =
          \frac{1}{\sqrt{1-\sin^2(\arcsin x)}} =
          \frac{1}{\sqrt{1-x^2}}
        </mrow>
        <mrow>
          \frac{d}{dx} \arctan x \amp = \frac{1}{\sec^2(\arctan x)} =
          \frac{1}{1+\tan^2(\arctan x)} = \frac{1}{1+x^2}
        </mrow>
      </md>
    </p>
    <example>
      <statement>
        <md>
          <mrow>
            \frac{d}{dx} \ln(x^2+1) \amp = \frac{1}{x^2+1}
            \frac{d}{dx} x^2+1 = \frac{2x}{x^2+1}
          </mrow>
          <mrow>
            \frac{d}{dx} \ln (x + 3x \arcsin x) \amp =
            \frac{1}{x+3\arcsin x} \left( 1 + 3\arcsin x +
            \frac{3x}{\sqrt{1-x^2}} \right)
         </mrow>
        </md>
      </statement>
    </example>
    <example>
      <statement>
        <p>
          Usually, when we differentiate, we get complicated
          expressions which we can't simplify into nice forms. Every
          now and then, we have an example that allows a very nice
          simplifcation.
          <md>
            <mrow>
              \amp \frac{d}{dx} \left( \frac{x}{2} \sqrt{x^2-9} -
              \frac{9}{2} \ln( x + \sqrt{x^2-9} ) \right) 
            </mrow>
            <mrow>
              \amp = \frac{\sqrt{x^2-9}}{2} + \frac{x
              2x}{4\sqrt{x^2-9}} - \frac{9}{2} \frac{1}{x+
              \sqrt{x^2-9}} \left( 1 + \frac{2x}{2\sqrt{x^2-9}}
              \right)
            </mrow>
            <mrow>
              \amp = \frac{\sqrt{x^2-9}}{2} +
              \frac{x^2}{2\sqrt{x^2-9}} - \frac{9}{2} \frac{2
              \sqrt{x^2-9} + 2x}{2\sqrt{x^2-9}(x+ \sqrt{x^2-9})}
            </mrow>
            <mrow>
              \amp = \frac{\sqrt{x^2-9}}{2} +
              \frac{x^2}{2\sqrt{x^2-9}} - \frac{9}{2}
              \frac{\sqrt{x^2-9} + x}{\sqrt{x^2-9}(x+ \sqrt{x^2-9})}
            </mrow>
            <mrow>
              \amp = \frac{\sqrt{x^2-9}}{2} +
              \frac{x^2-9}{2\sqrt{x^2-9}}
            </mrow>
            <mrow>
              \amp = \frac{\sqrt{x^2-9}}{2} +
              \frac{\sqrt{x^2-9}}{2} = \sqrt{x^2-9}
            </mrow>
          </md>
        </p>
      </statement>
    </example>
  </subsection>
</section>
